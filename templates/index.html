<!DOCTYPE HTML>
<!--
	Dimension by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

		<script type="text/javascript" src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.min.js"></script>
		<title>Server Autom</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

		<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
        <noscript><link rel="stylesheet" href="{{ url_for('static', filename='css/noscript.css') }}" /></noscript>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>


	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="logo">
							<span class="icon fa-gem"></span>
						</div>
						<div class="content">
							<div class="inner">
								<h1>Domovní Informační Systém</h1>

									<p>
									  <button class="btn btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
										Aktivní Zařízení ({{ devices|length }})
									  </button>
									</p>
									<div class="collapse" id="collapseExample">
									<div class="card card-body">
										<table class="table table-hover" id="sensorsTable">
										  <thead>
											<tr>
											  <th scope="col">ID</th>
											  <th scope="col">Sensor Name</th>
											  <th scope="col">Value</th>
												<th scope="col">Time</th>
											</tr>
										  </thead>
											<tbody>

											</tbody>
										</table>
									</div>
								</div>

							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#elektrina">Elektřina</a></li>
								<li><a href="#ovl">Ovládání</a></li>
								<li><a href="#kamery">Kamery</a></li>
								<li><a href="#prehled">Zařízení</a></li>

							</ul>
						</nav>
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Elektroměr -->
							<article id="elektrina">
								<h2 class="major">Elektřina</h2>
										<h5>Graf spotřeby v dolním bytě</h5>
											<div id="myDiv" class="graphs">
											  <!-- Plotly chart will be drawn inside this div -->
											</div>
											<script>
											  var graphs = {{graphJSON | safe}};
											  Plotly.newPlot('myDiv',graphs.data,graphs.layout, {responsive: true});
											</script>

										<h5>Graf spotřeby v horním bytě bytě</h5>
											<div id="myDiv2" class="graphs">
											  <!-- Plotly chart will be drawn inside this div -->
											</div>
											<script>
											  var graphs = {{graphJSON | safe}};
											  Plotly.newPlot('myDiv2',graphs.data,graphs.layout, {responsive: true});
											</script>
							</article>

						<!-- Ovladani -->
							<article id="ovl">
								<h2 class="major">Ovládání</h2>
								<div class="container">


  <div class="row">
    <!-- Lighting Control Section -->
	            <h3 class="card-title">Lighting</h3>
    <div class="col-sm-4">
      <div class="card">
        <div class="card-body">

          <!-- Light Dimmer Sliders -->
    <div class="slidecontainer">
        <p>Light 1: <input type="range" min="1" max="100" class="slider" id="light1"></p>

    </div>
          <!-- ... repeat for other lights ... -->


          <!-- Light Control Buttons -->

		<div class="custom-control custom-switch">
  <input type="checkbox" class="custom-control-input" id="customSwitch1">
  <label class="custom-control-label" for="customSwitch1" id="switchLabel">Off</label>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
  $("#customSwitch1").change(function(){
    if(this.checked) {
      $("#switchLabel").text("On");
    } else {
      $("#switchLabel").text("Off");
    }
  });
});
</script>



        </div>
      </div>
    </div>

    <!-- You can add more control sections for Cameras and Others here. -->
  </div>
</div>


							</article>

						<!-- Kamery -->
							<article id="kamery">
								<h2 class="major">Kamery</h2>
									{% for camera in cameras %}

											<h3>{{ camera.name }}</h3>
																		<div class="video-container">
											<img class="camera-feed" src="{{ url_for('video_feed_' + camera.id) }}" alt="" onclick="zoomImage(this)">
										</div>
									{% endfor %}
							</article>

						<!-- Zařízení -->
							<article id="prehled">
								<h2 class="major">Přehled systému</h2>
									<div class="container">


										<!-- Teploměry -->
										<h4 class="nadpis-sekce">Teploměry</h4>
										<div class="row">
											<!-- Placeholder for Power Meters Chart -->
											{% for thermo in t %}
											<div class="col-sm-4">
												<div class="card">
													<div class="card-body">
														<h5 class="card-title">{{ thermo.name }}</h5>
														<p class="card-text">Aktuální hodnoty: {{ thermo.values }} {{ thermo.units }} </p>
													</div>
												</div>
											</div>
											{% endfor %}
										</div>

										<!-- Elektroměry -->
										<h4 class="nadpis-sekce">Elektroměry</h4>
										<div class="row">
											<!-- Placeholder for Power Meters Chart -->
											{% for elektro in e %}
											<div class="col-sm-4">
												<div class="card">
													<div class="card-body">
														<h5 class="card-title">{{ elektro.name }}</h5>
														<p class="card-text">Aktuální hodnoty: {{ elektro.values }} {{ elektro.units }} </p>
													</div>
												</div>
											</div>
											{% endfor %}
										</div>

										<!-- Kamery -->
										<h4 class="nadpis-sekce">Kamery</h4>
										<div class="row">
											<!-- Placeholder for Power Meters Chart -->
											{% for cam in cameras %}
											<div class="col-sm-4">
												<div class="card">
													<div class="card-body">
														<h5 class="card-title">{{ cam.name }}</h5>
														<img class="video-mini" src="{{ url_for('video_feed_' + cam.id) }}" alt="">
													</div>
												</div>
											</div>
											{% endfor %}
										</div>


									</div>
							</article>
					</div>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
					</footer>

			</div>

		<!-- BG -->
			<div id="bg"></div>

		<!-- Scripts -->

            <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
            <script src="{{ url_for('static', filename='js/browser.min.js') }}"></script>
            <script src="{{ url_for('static', filename='js/breakpoints.min.js') }}"></script>
            <script src="{{ url_for('static', filename='js/util.js') }}"></script>
            <script src="{{ url_for('static', filename='js/main.js') }}"></script>

	    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>


	</body>
</html>
